# モバイルブラウザ用ハンバーガーメニュー検討

**日付:** 2026-02-01

## 背景

モバイルブラウザからアクセスした場合、ブラウザのナビゲーションバーとDreamCoreのボトムナビゲーションバーが重なり、画面が窮屈になる問題。

## 検討内容

### 問題点

- モバイルブラウザ（非PWA）ではブラウザ自体のナビバーが画面下部を占有
- DreamCoreのボトムナビと合わせて2つのナビバーが表示される
- 特にゲームプレイ画面で顕著

### 解決案

モバイルブラウザモードでは：
1. ボトムナビを非表示
2. 代わりにハンバーガーメニューを左上に表示
3. サイドメニューでナビゲーション

### CSS判定方法

```css
@media (display-mode: browser) and (max-width: 768px) {
  .bottom-nav { display: none; }
  .hamburger-menu-btn { display: flex; }
}
```

`display-mode: browser` でPWAモード（standalone）とブラウザモードを判別。

## 作成したサンプル

### `/public/sample-game-menu.html`

ゲーム画面（game.html）をベースに、以下を追加した独立サンプル：

- **Top Bar左側にメニューボタン追加**（モバイルブラウザのみ表示）
- **サイドメニュー追加**（左からスライドイン）
  - 新しくつくる
  - プロジェクト一覧
  - マイページ
  - 通知
- **ボトムナビ非表示**（モバイルブラウザモード時）

デザインはオリジナルのgame.htmlをそのまま維持。

## 本番環境への適用

### 一時的に適用した変更（後にrevert）

- `public/style.css` - ハンバーガーメニュー/サイドメニューのCSS追加
- `public/create.html` - サイドメニューHTML/JS追加

### Revert理由

本番環境はまだ従来のボトムナビを維持し、サンプルで検証を続ける方針に変更。

### Revertコミット

```
90a3a09 revert: ハンバーガーメニュー削除（本番環境はボトムナビ維持）
```

## 今後の検討事項

1. **ゲーム画面での適用**:
   - game.htmlへの適用を検討
   - サイドメニューの項目を決定（新しくつくる、プロジェクト一覧、マイページ、通知）

2. **PWA対応との共存**:
   - PWAモード（standalone）ではボトムナビを表示
   - ブラウザモードではハンバーガーメニュー

3. **テスト**:
   - 実機でのモバイルブラウザテスト
   - `display-mode` 判定の動作確認

## サンプルファイル

| ファイル | 説明 |
|---------|------|
| `public/sample-game-menu.html` | ゲーム画面 + ハンバーガーメニュー（独立サンプル） |

## 変更ファイル（最終状態）

本番環境への変更なし（revert済み）。サンプルファイルのみ追加。
