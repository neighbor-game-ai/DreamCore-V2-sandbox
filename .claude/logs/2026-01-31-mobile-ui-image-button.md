# モバイルUI改善 - 画像ボタン分離とバージョンパネル修正

**日時:** 2026-01-31
**コミット:** 04df767

## 概要

WhatsApp/LINEのUIパターンを参考に、モバイルのチャット入力エリアを改善。画像関連機能を独立したアイコンに分離し、将来の機能拡張に備えた構造に変更。

## 実施内容

### 1. UIの再構成

**変更前:**
```
[+プラス] → 素材、アップロード、画像生成
[テキストエリア]
[送信]
```

**変更後:**
```
[+プラス] → 変更履歴
[画像] → 素材、アップロード、画像生成
[テキストエリア]
[送信]
```

### 2. 画像ボタンの新設

- 水色〜ミントグリーン系グラデーション（プラスボタンのピンク系と差別化）
- モバイル（768px以下）でのみ表示
- タップでポップアップメニュー表示

### 3. バージョンパネルの移動

- `preview-panel` 内 → `body` 直下に移動
- タブ構造を無視して画面全体にオーバーレイ表示
- モバイル: 下からスライドアップ、画面全体をカバー
- デスクトップ: 右端から320pxパネルとしてスライドイン

## 変更ファイル

| ファイル | 変更内容 |
|----------|----------|
| `public/editor.html` | 画像ボタン・メニュー追加、バージョンパネル移動 |
| `public/style.css` | `.image-menu-btn`, `.image-menu-popup` スタイル追加、バージョンパネルをfixedに変更 |
| `public/app.js` | 画像メニューの要素参照とイベントリスナー追加 |

## 技術詳細

### 新規CSS

```css
.image-menu-btn {
  background: linear-gradient(135deg, #87CEEB 0%, #98D8C8 100%);
  /* 水色〜ミントグリーン */
}

.version-panel {
  position: fixed;  /* absoluteから変更 */
  z-index: 1000;    /* タブより上に表示 */
}
```

### 新規JavaScript

- `setupImageMenuListeners()` - 画像メニューのイベントハンドラ
- `toggleImageMenu()` / `closeImageMenu()` - メニューの開閉制御
- プラスメニューと画像メニューの相互排他制御（片方開くと他方を閉じる）

## デプロイ

- GCE (`dreamcore-v2`) にデプロイ完了
- PM2プロセス `dreamcore-sandbox` 再起動
- 確認URL: https://v2.dreamcore.gg
